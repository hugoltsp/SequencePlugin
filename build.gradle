
plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.21'
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
}

apply plugin: "kotlin"
apply plugin: "org.jetbrains.intellij"


intellij {
    version '2020.1'
    pluginName 'SequenceDiagram'
    plugins = ['java', 'org.jetbrains.kotlin']
    updateSinceUntilBuild true
    sandboxDirectory = "${project.rootDir}/.sandbox"
}

patchPluginXml {
    sinceBuild 201
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation "org.jetbrains.kotlin:kotlin-compiler-embeddable"
}


compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

group 'vanstudio'
version '2.0.1'

sourceCompatibility = 1.8

tasks.withType(JavaCompile) { options.encoding = 'UTF-8' }

repositories {
    jcenter()
}